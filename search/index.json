[{"content":"test detail and environment Test data is a txt file of 2 million rows of Json. The json are consist of jsonlized Ticks and Txns data.\nsample(one json one row):\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 \u0026#34;{ \u0026#34;date\u0026#34;:\u0026#34;yyyy-mm-ddThh:mm:ss.sssssssss\u0026#34;, \u0026#34;sym\u0026#34;:\u0026#34;xxxxxx.xx\u0026#34;, \u0026#34;time\u0026#34;:\u0026#34;yyyy-mm-ddThh:mm:ss.sssssssss\u0026#34;, \u0026#34;ticker\u0026#34;:\u0026#34;xxxxxx\u0026#34;, \u0026#34;side\u0026#34;:\u0026#34;N\u0026#34;, \u0026#34;px\u0026#34;:0, \u0026#34;size\u0026#34;:xxx, \u0026#34;index\u0026#34;:xxxxxx, \u0026#34;askId\u0026#34;:0, \u0026#34;bidId\u0026#34;:xxxxxx, \u0026#34;ordType\u0026#34;:\u0026#34;0\u0026#34;, \u0026#34;func\u0026#34;:\u0026#34;C\u0026#34; }\u0026#34;, \u0026#34;{ \u0026#34;date\u0026#34;:\u0026#34;yyyy-mm-ddThh:mm:ss.sssssssss\u0026#34;, \u0026#34;sym\u0026#34;:\u0026#34;xxxxxx.xx\u0026#34;, \u0026#34;time\u0026#34;:\u0026#34;yyyy-mm-ddThh:mm:ss.sssssssss\u0026#34;, \u0026#34;open\u0026#34;:xx.xx, \u0026#34;high\u0026#34;:xx.xx, \u0026#34;low\u0026#34;:xx.xx, \u0026#34;preclose\u0026#34;:xx.xx, \u0026#34;px\u0026#34;:xx.xx, \u0026#34;match\u0026#34;:xxxx, \u0026#34;volume\u0026#34;:xxxxxx, \u0026#34;amt\u0026#34;:xxxxxxx, \u0026#34;asks\u0026#34;:[xx.89,xx.9,xx.91,xx.93,xx.94,xx.95,xx.96,xx.97,xx.99,xx], \u0026#34;avgAsk\u0026#34;:xx.xx, \u0026#34;askSizes\u0026#34;:[4800,75300,300,1600,5200,5000,5100,300,3800,104446],\u0026#34;totalAskSize\u0026#34;:xxxxxx, \u0026#34;bids\u0026#34;:[xx.88,xx.87,xx.86,xx.85,xx.84,xx.83,xx.82,xx.81,xx.8,xx.79], \u0026#34;avgBid\u0026#34;:xx.xx, \u0026#34;bidSizes\u0026#34;:[2500,1800,500,5900,6500,3600,2000,6200,18700,4000],\u0026#34;totalBidSize\u0026#34;:xxxxxx, \u0026#34;presettle\u0026#34;:null, \u0026#34;settle\u0026#34;:null }\u0026#34; q tickerplant Tickerplant is on a remote server. Log writing is performed exactly on the same server(which means local).\nFH, RDB, RTS publish and subscribe data through KDB Q IPC.\nPerformance Highlights Pub Speed: 1 million msgs 6 second\nDeserialize no need to deserialize\nReplay 1 million msgs 10 second\nfeeder tp rdb run.cmd kafka Kafka server is on the same host with tickerplant.\nPubSub is performed remotely in the same local network.\nüê£ kx kafka library\nPerformance Highlights Pub Speed: 1 million msgs 7.5 second\nDeserialize: 1 million msgs 36 second\nConsume Speed: 1 million msgs total 50 second, include deserialize and upd to table.\nReplay performance performance is exactly the same as consumer.\nfeeder kafka server To download kafka, please take reference kafka quick setup.\nZookeeper and a Kafka broker are initialized using the following commands.\nzookeeper:\n1 bin\\windows\\zookeeper-server-start.bat config\\zookeeper.properties The server need to add advertised.listeners=PLAINTEXT://your.host.name:9092\n1 bin\\windows\\kafka-server-start.bat config\\server.properties consumer replay replay in kafka requires to change the client config. The other is exactly the same as start a consumer.\n1 2 3 4 5 6 client: .kfk.Consumer[ .... (`group.id;`new port number); //(`auto.offset.reset;`latest) (`auto.offset.reset;`earliest) ]; solace üê£ solace container guide\nüê• solace kx library\nPerformance Highlights Pub Speed: 1 million msgs 55 second\nDeserialize: 1 million msgs 36 second\nConsume Speed: 1 million msgs total 1min45s, include deserialize and upd to table.\nReplay performance 1 millon msgs 150 seconds\nproducer solace instant 1 docker run -d -p 8080:8080 -p 55555:55555 -p 8008:8008 -p 1883:1883 -p 8000:8000 -p 5672:5672 -p 9000:9000 -p 2222:2222 --shm-size=2g --env username_admin_globalaccesslevel=admin --env username_admin_password=admin --name=solace solace/solace-pubsub-standard consumer replay ","date":"2023-09-27T00:00:00Z","image":"https://shawntao1011.github.io/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/images/streaming_hu4434ecd02d39b32d498d62d9f67f83f6_40518_120x120_fill_q75_box_smart1.jpg","permalink":"https://shawntao1011.github.io/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/","title":"messaging solutions' performance for kdb arch"},{"content":"This is my deployment of kdb q.\nLinux deployment Reference on how to have multiple version of kdb (kdb version and bit version): multiVersion\nsample dir:\n1 2 3 4 5 6 7 8 9 10 11 12 13 $ tree q q ‚îú‚îÄ‚îÄ k4.lic ‚îú‚îÄ‚îÄ v3.5 ‚îÇ ‚îú‚îÄ‚îÄ m32 ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ q ‚îÇ ‚îú‚îÄ‚îÄ m64 ‚îÇ ‚îÇ ‚îî‚îÄ‚îÄ q ‚îÇ ‚îî‚îÄ‚îÄ q.k ‚îî‚îÄ‚îÄ v4.0 ‚îú‚îÄ‚îÄ m64 ‚îÇ ‚îî‚îÄ‚îÄ q ‚îî‚îÄ‚îÄ q.k In this environment, two version of 64 bit q binary and one 32 bit q binary are available. But the\n1 q command will call the one with alias. To have access to multiple version access, we can set alias shortcut as q32 q64 etc.\n1 2 3 4 export QLIC=~/q alias q=\u0026#39;export QHOME=~/q/v4.0; rlwrap -r $QHOME/m64/q\u0026#39; alias q3.5=\u0026#39;export QHOME=~/q/v3.5; rlwrap -r $QHOME/m64/q\u0026#39; alias q32=\u0026#39;export QHOME=~/q/v3.5; rlwrap -r $QHOME/m32/q\u0026#39; windows deployment Windows defers from Linux, environment varibale redefine requires shell to reopen.\nWe need to set different environment to start correspnoding q.exe.\nThe \u0026ldquo;QHOME\u0026rdquo; envrionment is the core to startup a q.exe, as it not only defines the loading directory but also determines the q.exe path.\nAdd the following to path:\n1 %QHOME%/w32 ","date":"2023-09-14T00:00:00Z","image":"https://shawntao1011.github.io/quantDevBlog/p/kdb-q-deployment/images/kdbinfo_hub32641a6239649881d9d9130e34b5ea6_203368_120x120_fill_box_smart1_3.png","permalink":"https://shawntao1011.github.io/quantDevBlog/p/kdb-q-deployment/","title":"KDB Q deployment"}]