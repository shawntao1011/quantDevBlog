<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>performance testing on Tao's blog</title><link>https://shawntao1011.github.io/quantDevBlog/categories/performance-testing/</link><description>Recent content in performance testing on Tao's blog</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>shawntao1011</copyright><lastBuildDate>Wed, 27 Sep 2023 00:00:00 +0000</lastBuildDate><atom:link href="https://shawntao1011.github.io/quantDevBlog/categories/performance-testing/index.xml" rel="self" type="application/rss+xml"/><item><title>messaging solutions' performance for kdb arch</title><link>https://shawntao1011.github.io/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/</link><pubDate>Wed, 27 Sep 2023 00:00:00 +0000</pubDate><guid>https://shawntao1011.github.io/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/</guid><description>&lt;img src="https://shawntao1011.github.io/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/images/streaming.jpg" alt="Featured image of post messaging solutions' performance for kdb arch" />&lt;h2 id="test-detail-and-environment">test detail and environment&lt;/h2>
&lt;p>Test data is a txt file of 2 million rows of Json. The json are consist of jsonlized Ticks and Txns data.&lt;/p>
&lt;h2 id="q-tickerplant">q tickerplant&lt;/h2>
&lt;p>&lt;img src="https://shawntao1011.github.io/quantDevBlog/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/images/kdb_tp_frame.png"
width="874"
height="382"
srcset="https://shawntao1011.github.io/quantDevBlog/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/images/kdb_tp_frame_hu8b3ae58b860e9ca9ffb2d6cf348285c8_38432_480x0_resize_box_3.png 480w, https://shawntao1011.github.io/quantDevBlog/quantDevBlog/p/messaging-solutions-performance-for-kdb-arch/images/kdb_tp_frame_hu8b3ae58b860e9ca9ffb2d6cf348285c8_38432_1024x0_resize_box_3.png 1024w"
loading="lazy"
alt="kdb_tickerplant_frame"
class="gallery-image"
data-flex-grow="228"
data-flex-basis="549px"
>&lt;/p>
&lt;p>Tickerplant is on a remote server. Log writing is performed exactly on the same server(which means local).&lt;/p>
&lt;p>FH, RDB, RTS publish and subscribe data through KDB Q IPC.&lt;/p>
&lt;h3 id="performance-highlights">Performance Highlights&lt;/h3>
&lt;p>&lt;strong>Pub Speed:&lt;/strong> &lt;/p> 1 million msgs 6 second&lt;/p>
&lt;p>&lt;strong>Deserialize speed:&lt;/strong> &lt;/p> no need to deserialize&lt;/p>
&lt;h3 id="feeder">feeder&lt;/h3>
&lt;script type="application/javascript" src="https://gist.github.com/shawntao1011/df454f98c1078c73fb488234cab1c0fc.js">&lt;/script>
&lt;h3 id="tp">tp&lt;/h3>
&lt;script type="application/javascript" src="https://gist.github.com/shawntao1011/76c03051815b23121346122a010fd79a.js">&lt;/script>
&lt;h3 id="rdb">rdb&lt;/h3>
&lt;script type="application/javascript" src="https://gist.github.com/shawntao1011/b572b865fd55baa366c900687bbe5f2a.js">&lt;/script>
&lt;h3 id="runcmd">run.cmd&lt;/h3>
&lt;script type="application/javascript" src="https://gist.github.com/shawntao1011/76c03051815b23121346122a010fd79a.js">&lt;/script>
&lt;h2 id="kafka">kafka&lt;/h2>
&lt;p>Kafka server is on the same host with tickerplant.&lt;/p>
&lt;p>PubSub is performed remotely in the same local network.&lt;/p>
&lt;p>ðŸ£ &lt;a class="link" href="https://github.com/KxSystems/kafka" target="_blank" rel="noopener"
>kx kafka library&lt;/a>&lt;/p>
&lt;h3 id="performance-highlights-1">Performance Highlights&lt;/h3>
&lt;p>&lt;strong>Pub Speed:&lt;/strong> &lt;/p> 1 million msgs 7.5 second&lt;/p>
&lt;p>&lt;strong>Deserialize speed:&lt;/strong> &lt;/p> 1 million msgs 36 second&lt;/p>
&lt;h3 id="feeder-1">feeder&lt;/h3>
&lt;script type="application/javascript" src="https://gist.github.com/shawntao1011/627ee401bd560988f281e7fb08b5cd41.js">&lt;/script>
&lt;h3 id="kafka-server">kafka server&lt;/h3>
&lt;p>To download kafka, please take reference &lt;a class="link" href="https://kafka.apache.org/documentation.html#quickstart" target="_blank" rel="noopener"
>kafka quick setup&lt;/a>.&lt;/p>
&lt;p>Zookeeper and a Kafka broker are initialized using the following commands.&lt;/p>
&lt;p>zookeeper:&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">bin\windows\zookeeper-server-start.bat config\zookeeper.properties
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>The server need to &lt;font color=red>add&lt;/font> &lt;em>advertised.listeners=PLAINTEXT://your.host.name:9092&lt;/em>&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre tabindex="0" class="chroma">&lt;code class="language-fallback" data-lang="fallback">&lt;span class="line">&lt;span class="cl">bin\kafka-server-start.bat config\server.properties
&lt;/span>&lt;/span>&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="consumer">consumer&lt;/h3>
&lt;script type="application/javascript" src="https://gist.github.com/shawntao1011/e9ba596c035820562fe9f6ed19501bb9.js">&lt;/script>
&lt;h2 id="solace">solace&lt;/h2>
&lt;h3 id="feeder-2">feeder&lt;/h3>
&lt;h3 id="solace-instant">solace instant&lt;/h3>
&lt;h3 id="rdb-1">rdb&lt;/h3></description></item></channel></rss>